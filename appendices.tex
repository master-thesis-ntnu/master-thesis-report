\chapter{Appendices}

\section{Elasticsearch Query}
[?? old maybe remove]
\begin{lstlisting}[language=json, caption={Initial query to retrive query expansion data}, label={ap:initial-query}]
{
    query : {
        terms : {
          tags : [...]
        }
    },
    size: 50,
    aggregations : {
        terms: {
            terms : {
                field : "tags.keyword",
                size: 50
            }
        },
        term_count: {
            value_count: {
                field: "tags.keyword"
            }
        }
    }
}
\end{lstlisting}

\begin{lstlisting}[language=json, caption={Elasticsearch term search}, label={ap:final-query}]
{
    query : {
        terms : {
          tags : [...]
        }
    }
}
\end{lstlisting}

\section{Flickr Data Representation in Elasticsearch}
[?? add correct data structure]
\begin{lstlisting}[language={json}, caption={Internal photo data representation in elasticsearch}, label={ap:flickr-data}]
{
    id: id,
    title: "title",
    description: "description",
    tags: [
      "blue",
      "sky"
    ]
    ...
}
\end{lstlisting}

\section{Elasticsearch Static Mapping}
[?? add mapping]
\begin{lstlisting}[language={json}, caption={The static Elasticsearch mapping used on the photo index in the experiment setup.}, label={ap:elasticsearch-mapping}]
{

}
\end{lstlisting}

\section{Single Term Query}
[?? add code]
\begin{lstlisting}[language={java}, caption={Java code used to search for a single term.}, label={ap:single-term-query}]

\end{lstlisting}

\section{Multiple Term Query}
[?? add code]
\begin{lstlisting}[language={java}, caption={Java code used to search for multiple terms.}, label={ap:multiple-term-query}]

\end{lstlisting}

\section{Query to Retrieve the Number of Occurences for a Given Term}
[?? add code]
\begin{lstlisting}[language={java}, caption={Java code used retrieve the number of occurences for a given term in the collection.}, label={ap:number-of-occurences-query}]

\end{lstlisting}

\section{Field Stats Query}
[?? add code]
\begin{lstlisting}[language={java}, caption={Java code used retrieve the total number of terms in a field in the collection.}, label={ap:field-stasts-query}]

\end{lstlisting}
